(function(a,b){if(typeof define==="function"&&define.amd){define([],b(a))}else{if(typeof exports==="object"){module.exports=b(a)}else{a.smoothScroll=b(a)}}})(typeof global!=="undefined"?global:this.window||this.global,function(l){var j={};var r=!!l.document.querySelector&&!!l.addEventListener;var t,b,u,n;var f={speed:500,easing:"easeInOutCubic",offset:0,updateURL:true,callbackBefore:function(){},callbackAfter:function(){}};var q=function(y,A,x){if(Object.prototype.toString.call(y)==="[object Object]"){for(var z in y){if(Object.prototype.hasOwnProperty.call(y,z)){A.call(x,y[z],z,y)}}}else{for(var w=0,v=y.length;w<v;w++){A.call(x,y[w],w,y)}}};var s=function(x,w){var v={};q(x,function(y,z){v[z]=x[z]});q(w,function(y,z){v[z]=w[z]});return v};var m=function(x,v){var w=v.charAt(0);for(;x&&x!==l.document;x=x.parentNode){if(w==="."){if(x.classList.contains(v.substr(1))){return x}}else{if(w==="#"){if(x.id===v.substr(1)){return x}}else{if(w==="["){if(x.hasAttribute(v.substr(1,v.length-2))){return x}}}}}return false};var g=function(v){return Math.max(v.scrollHeight,v.offsetHeight,v.clientHeight)};var i=function(B){var y=String(B);var A=y.length;var x=-1;var z;var v="";var w=y.charCodeAt(0);while(++x<A){z=y.charCodeAt(x);if(z===0){throw new InvalidCharacterError("Invalid character: the input contains U+0000.")}if((z>=1&&z<=31)||z==127||(x===0&&z>=48&&z<=57)||(x===1&&z>=48&&z<=57&&w===45)){v+="\\"+z.toString(16)+" ";continue}if(z>=128||z===45||z===95||z>=48&&z<=57||z>=65&&z<=90||z>=97&&z<=122){v+=y.charAt(x);continue}v+="\\"+y.charAt(x)}return v};var e=function(v,x){var w;if(v==="easeInQuad"){w=x*x}if(v==="easeOutQuad"){w=x*(2-x)}if(v==="easeInOutQuad"){w=x<0.5?2*x*x:-1+(4-2*x)*x}if(v==="easeInCubic"){w=x*x*x}if(v==="easeOutCubic"){w=(--x)*x*x+1}if(v==="easeInOutCubic"){w=x<0.5?4*x*x*x:(x-1)*(2*x-2)*(2*x-2)+1}if(v==="easeInQuart"){w=x*x*x*x}if(v==="easeOutQuart"){w=1-(--x)*x*x*x}if(v==="easeInOutQuart"){w=x<0.5?8*x*x*x*x:1-8*(--x)*x*x*x}if(v==="easeInQuint"){w=x*x*x*x*x}if(v==="easeOutQuint"){w=1+(--x)*x*x*x*x}if(v==="easeInOutQuint"){w=x<0.5?16*x*x*x*x*x:1+16*(--x)*x*x*x*x}return w||x};var p=function(x,w,y){var v=0;if(x.offsetParent){do{v+=x.offsetTop;x=x.offsetParent}while(x)}v=v-w-y;return v>=0?v:0};var a=function(){return Math.max(l.document.body.scrollHeight,l.document.documentElement.scrollHeight,l.document.body.offsetHeight,l.document.documentElement.offsetHeight,l.document.body.clientHeight,l.document.documentElement.clientHeight)};var h=function(v){return !v||!(typeof JSON==="object"&&typeof JSON.parse==="function")?{}:JSON.parse(v)};var c=function(w,v){if(l.history.pushState&&(v||v==="true")){l.history.pushState(null,null,[l.location.protocol,"//",l.location.host,l.location.pathname,l.location.search,w].join(""))}};var k=function(v){return v===null?0:(g(v)+v.offsetTop)};j.animateScroll=function(B,z,L){var w=s(w||f,L||{});var H=h(B?B.getAttribute("data-options"):null);w=s(w,H);z="#"+i(z.substr(1));var I=z==="#"?l.document.documentElement:l.document.querySelector(z);var G=l.pageYOffset;if(!u){u=l.document.querySelector("[data-scroll-header]")}if(!n){n=k(u)}var F=p(I,n,parseInt(w.offset,10));var E;var v=F-G;var K=a();var D=0;var J,A;c(z,w.updateURL);var C=function(M,P,N){var O=l.pageYOffset;if(M==P||O==P||((l.innerHeight+O)>=K)){clearInterval(N);I.focus();w.callbackAfter(B,z)}};var y=function(){D+=16;J=(D/parseInt(w.speed,10));J=(J>1)?1:J;A=G+(v*e(w.easing,J));l.scrollTo(0,Math.floor(A));C(A,F,E)};var x=function(){w.callbackBefore(B,z);E=setInterval(y,16)};if(l.pageYOffset===0){l.scrollTo(0,0)}x()};var o=function(w){var v=m(w.target,"[data-scroll]");if(v&&v.tagName.toLowerCase()==="a"){w.preventDefault();j.animateScroll(v,v.hash,t)}};var d=function(v){if(!b){b=setTimeout(function(){b=null;n=k(u)},66)}};j.destroy=function(){if(!t){return}l.document.removeEventListener("click",o,false);l.removeEventListener("resize",d,false);t=null;b=null;u=null;n=null};j.init=function(v){if(!r){return}j.destroy();t=s(f,v||{});u=l.document.querySelector("[data-scroll-header]");n=k(u);l.document.addEventListener("click",o,false);if(u){l.addEventListener("resize",d,false)}};return j});